name "pdf-redact"
bin "pdf-redact"
about "Safe PDF redaction CLI using PyMuPDF"

flag "-h --help" help="Print help"
flag "--term <value>" help="Term to redact. Repeat for multiple terms." var=#true
flag "--regex-term <pattern>" help="Regex pattern to redact. Repeat for multiple patterns." var=#true
flag "--terms-file <file>" help="File with one term per line." var=#true
flag "--source <path>" help="Path to a single PDF file or a directory containing PDFs."
flag "--output-path <dir>" help="Directory where redacted PDFs will be written."
flag "-r --recursive" help="Recursively scan subdirectories when source is a directory."
flag "--case-insensitive" help="Match terms case-insensitively."
flag "--dry-run" help="Scan and report matches without writing output files."
flag "--verify-on-match <mode>" help="Behavior when verification still finds redacted terms in output." {
  choices "warn" "fail"
}

cmd "completion" help="Print shell completion script" {
  arg "<shell>" help="Shell type" {
    choices "bash" "fish" "zsh"
  }
}
